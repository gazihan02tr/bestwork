{% extends 'bestsoft/inc/base.html' %}

{% block title %}Site Ayarları - BestSoft Admin{% endblock %}

{% block page_title %}Site Ayarları{% endblock %}
{% block page_subtitle %}Genel site ayarlarını yapılandırın{% endblock %}

{% block content %}
<div x-data="{ activeTab: 'general' }" class="space-y-6">
    
    <!-- Tabs -->
    <div class="m3-card">
        <div class="border-b border-gray-100">
            <nav class="flex gap-1 p-2 overflow-x-auto">
                <button 
                    @click="activeTab = 'general'"
                    :class="activeTab === 'general' ? 'bg-primary-100 text-primary-700' : 'text-gray-600 hover:bg-gray-100'"
                    class="px-4 py-2.5 rounded-xl font-medium text-sm transition-all flex items-center gap-2 whitespace-nowrap"
                >
                    <span class="material-symbols-rounded text-lg">tune</span>
                    Genel
                </button>
                <button 
                    @click="activeTab = 'contact'"
                    :class="activeTab === 'contact' ? 'bg-primary-100 text-primary-700' : 'text-gray-600 hover:bg-gray-100'"
                    class="px-4 py-2.5 rounded-xl font-medium text-sm transition-all flex items-center gap-2 whitespace-nowrap"
                >
                    <span class="material-symbols-rounded text-lg">contact_mail</span>
                    İletişim
                </button>
                <button 
                    @click="activeTab = 'social'"
                    :class="activeTab === 'social' ? 'bg-primary-100 text-primary-700' : 'text-gray-600 hover:bg-gray-100'"
                    class="px-4 py-2.5 rounded-xl font-medium text-sm transition-all flex items-center gap-2 whitespace-nowrap"
                >
                    <span class="material-symbols-rounded text-lg">share</span>
                    Sosyal Medya
                </button>
                <button 
                    @click="activeTab = 'seo'"
                    :class="activeTab === 'seo' ? 'bg-primary-100 text-primary-700' : 'text-gray-600 hover:bg-gray-100'"
                    class="px-4 py-2.5 rounded-xl font-medium text-sm transition-all flex items-center gap-2 whitespace-nowrap"
                >
                    <span class="material-symbols-rounded text-lg">search</span>
                    SEO
                </button>
                <button 
                    @click="activeTab = 'appearance'"
                    :class="activeTab === 'appearance' ? 'bg-primary-100 text-primary-700' : 'text-gray-600 hover:bg-gray-100'"
                    class="px-4 py-2.5 rounded-xl font-medium text-sm transition-all flex items-center gap-2 whitespace-nowrap"
                >
                    <span class="material-symbols-rounded text-lg">palette</span>
                    Görünüm
                </button>
            </nav>
        </div>
        
        <form action="{{ url_for('bestsoft_bp.site_info') }}" method="POST" enctype="multipart/form-data">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
            <input type="hidden" name="tab" x-bind:value="activeTab">
            
            <!-- General Tab -->
            <div x-show="activeTab === 'general'" class="p-6 space-y-5">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Site Adı</label>
                        <input type="text" name="site_name" value="{{ settings.site_name if settings else '' }}" class="m3-input" placeholder="BestSoft">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Slogan</label>
                        <input type="text" name="tagline" value="{{ settings.tagline if settings else '' }}" class="m3-input" placeholder="En iyi çözümler">
                    </div>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Site Açıklaması</label>
                    <textarea name="description" rows="3" class="m3-input resize-none" placeholder="Siteniz hakkında kısa bir açıklama...">{{ settings.description if settings else '' }}</textarea>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Çalışma Saatleri</label>
                        <input type="text" name="working_hours" value="{{ settings.working_hours if settings else '' }}" class="m3-input" placeholder="Pazartesi - Cuma: 09:00 - 18:00">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Copyright Metni</label>
                        <input type="text" name="copyright" value="{{ settings.copyright if settings else '' }}" class="m3-input" placeholder="© 2025 BestSoft">
                    </div>
                </div>
            </div>
            
            <!-- Contact Tab -->
            <div x-show="activeTab === 'contact'" class="p-6 space-y-5">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">E-posta Adresi</label>
                        <input type="email" name="email" value="{{ settings.email if settings else '' }}" class="m3-input" placeholder="info@bestsoft.com">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Telefon</label>
                        <input type="tel" name="phone" value="{{ settings.phone if settings else '' }}" class="m3-input" placeholder="+90 555 123 4567">
                    </div>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Adres</label>
                    <textarea name="address" rows="2" class="m3-input resize-none" placeholder="Tam adres bilgisi...">{{ settings.address if settings else '' }}</textarea>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">WhatsApp</label>
                        <input type="text" name="whatsapp" value="{{ settings.whatsapp if settings else '' }}" class="m3-input" placeholder="+90 555 123 4567">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Google Maps Embed</label>
                        <input type="text" name="google_maps" value="{{ settings.google_maps if settings else '' }}" class="m3-input" placeholder="Google Maps iframe URL">
                    </div>
                </div>
            </div>
            
            <!-- Social Media Tab -->
            <div x-show="activeTab === 'social'" class="p-6 space-y-5">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Facebook</label>
                        <input type="url" name="facebook" value="{{ settings.facebook if settings else '' }}" class="m3-input" placeholder="https://facebook.com/...">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Instagram</label>
                        <input type="url" name="instagram" value="{{ settings.instagram if settings else '' }}" class="m3-input" placeholder="https://instagram.com/...">
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Twitter / X</label>
                        <input type="url" name="twitter" value="{{ settings.twitter if settings else '' }}" class="m3-input" placeholder="https://twitter.com/...">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">LinkedIn</label>
                        <input type="url" name="linkedin" value="{{ settings.linkedin if settings else '' }}" class="m3-input" placeholder="https://linkedin.com/company/...">
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">YouTube</label>
                        <input type="url" name="youtube" value="{{ settings.youtube if settings else '' }}" class="m3-input" placeholder="https://youtube.com/...">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">TikTok</label>
                        <input type="url" name="tiktok" value="{{ settings.tiktok if settings else '' }}" class="m3-input" placeholder="https://tiktok.com/@...">
                    </div>
                </div>
            </div>
            
            <!-- SEO Tab -->
            <div x-show="activeTab === 'seo'" class="p-6 space-y-5">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Meta Başlık</label>
                    <input type="text" name="meta_title" value="{{ settings.meta_title if settings else '' }}" class="m3-input" placeholder="Sayfa başlığı (60 karakter önerilir)">
                    <p class="text-xs text-gray-400 mt-1">Arama motorlarında görünen başlık</p>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Meta Açıklama</label>
                    <textarea name="meta_description" rows="3" class="m3-input resize-none" placeholder="Sayfa açıklaması (160 karakter önerilir)">{{ settings.meta_description if settings else '' }}</textarea>
                    <p class="text-xs text-gray-400 mt-1">Arama sonuçlarında görünen açıklama</p>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Anahtar Kelimeler</label>
                    <input type="text" name="keywords" value="{{ settings.keywords if settings else '' }}" class="m3-input" placeholder="kelime1, kelime2, kelime3">
                    <p class="text-xs text-gray-400 mt-1">Virgülle ayırarak yazın</p>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Google Analytics ID</label>
                    <input type="text" name="google_analytics" value="{{ settings.google_analytics if settings else '' }}" class="m3-input" placeholder="G-XXXXXXXXXX">
                </div>
            </div>
            
            <!-- Appearance Tab -->
            <div x-show="activeTab === 'appearance'" class="p-6 space-y-5">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Logo</label>
                        <div class="border-2 border-dashed border-gray-200 rounded-2xl p-6 text-center hover:border-primary-300 transition-colors">
                            <input type="file" name="logo" accept="image/*" class="hidden" id="logo-upload">
                            <label for="logo-upload" class="cursor-pointer">
                                <span class="material-symbols-rounded text-3xl text-gray-400">image</span>
                                <p class="text-sm text-gray-500 mt-2">Logo yükle</p>
                            </label>
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Favicon</label>
                        <div class="border-2 border-dashed border-gray-200 rounded-2xl p-6 text-center hover:border-primary-300 transition-colors">
                            <input type="file" name="favicon" accept="image/*" class="hidden" id="favicon-upload">
                            <label for="favicon-upload" class="cursor-pointer">
                                <span class="material-symbols-rounded text-3xl text-gray-400">star</span>
                                <p class="text-sm text-gray-500 mt-2">Favicon yükle</p>
                            </label>
                        </div>
                    </div>
                </div>
                
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Ana Renk</label>
                        <input type="color" name="primary_color" value="{{ settings.primary_color if settings else '#7c3aed' }}" class="w-full h-12 rounded-xl border border-gray-200 cursor-pointer">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">İkincil Renk</label>
                        <input type="color" name="secondary_color" value="{{ settings.secondary_color if settings else '#3b82f6' }}" class="w-full h-12 rounded-xl border border-gray-200 cursor-pointer">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Accent Renk</label>
                        <input type="color" name="accent_color" value="{{ settings.accent_color if settings else '#f59e0b' }}" class="w-full h-12 rounded-xl border border-gray-200 cursor-pointer">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Metin Rengi</label>
                        <input type="color" name="text_color" value="{{ settings.text_color if settings else '#1f2937' }}" class="w-full h-12 rounded-xl border border-gray-200 cursor-pointer">
                    </div>
                </div>
            </div>
            
            <!-- Submit Button -->
            <div class="p-6 bg-gray-50 border-t border-gray-100 flex justify-end gap-3">
                <button type="reset" class="m3-btn m3-btn-outlined">
                    Sıfırla
                </button>
                <button type="submit" class="m3-btn m3-btn-filled">
                    <span class="material-symbols-rounded">save</span>
                    Kaydet
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
